
\section{Installation and usage}
Both client and server are installed in the same way. Installation
method is different in WindowsXP and Linux systems, so they're described
separately. To simplify installation, it assumes that binary versions
are used\footnote{Compilation is not
  required, binary version can be used safely. It can be performed by
  advanced users, see \emph{Compilation} section for details.}.

\subsection{Linux installation}
Obtain (e.g. download from http://klub.com.pl/dhcpv6/) an archive with
Dibbler binaries and extract it to /var/lib/dibbler directory:
\begin{verbatim}
cd /var/lib/dibbler/
tar zxvf dibbler-0.2.0-linux.tar.gz 
\end{verbatim}

Depending what functionality do you want to use (server or client),
you should edit config file (client.conf for client and server.conf
for server). After editing, issue following commands:

\begin{verbatim}
./dibbler-server-linux start
\end{verbatim}

for starting server or

\begin{verbatim}
./dibbler-client-linux start
\end{verbatim}

for starting client. ,,start'' parameter needs a little comment. It
instructs Dibbler to run in daemon mode -- detach from console and run
in the background. During config files fine-tuning, it is ofter better
to watch Dibbler's bahavior instantly. In this case, use ,,run''
instead of ,,start'' parameter. Dibbler will present its messages on
your console. To finish it, press control-c.

To stop server running in daemon mode, type:
\begin{verbatim}
./dibbler-server-linux stop
\end{verbatim}

To stop client running in daemon mode, type:
\begin{verbatim}
./dibbler-client-linux stop
\end{verbatim}

To see, if client or server are running\footnote{Running status is
  based on /var/lib/dibbler/client.pid or server.pid files. In rare
  occasions, when server crashes, this status will show server status as running}, type:
\begin{verbatim}
./dibbler-client-linux status
\end{verbatim}

or
\begin{verbatim}
./dibbler-server-linux status
\end{verbatim}

\subsection{WindowsXP installation}
Obtain (e.g. download from http://klub.com.pl/dhcpv6/) an archive with
Dibbler binaries and extract it to a directory, e.g. c:$\backslash$dibbler.

Now run console (start $\rightarrow$ run... $\rightarrow$ cmd). Now
issue following commands:

\begin{verbatim}
c:
cd \dibbler
dibbler-client-winxp run -d c:\dibbler
\end{verbatim}

,,run'' command instructs Dibbler to run in console and not become a
daemon. Is it very useful feature in early configuration stages. To
finish it, press ctrl-c. 

After configuration files are edited, user can install dibbler as a
Windows service. In this case, following command should be issued:
\begin{verbatim}
dibbler-client-winxp install -d c:\dibbler
\end{verbatim}

Now dibbler is installed as a Windows service and it can be controlled
from Control Panel $\rightarrow$ Administrative tasks $\rightarrow$
Services. 

If you want to uninstall Dibbler as a service, use ,,uninstall''
instead of ,,install''.

\section{Compilation}
Dibbler is distributed in 2 versions: binary and source files. For
most users, binary version is better choice.  Compilation is
performed by more experienced users, preferably with programming
knowledge. It does not offer any advances over binary version, only
allow to understand internal Dibbler workings. You probalby want just
install and use Dibbler. If that is your case, skip to next section
named \emph{Installation}.

\subsection{Linux compilation}
Issue following commands:
\begin{verbatim}
tar zxvf dibbler-0.2.0-src.tar.gz
cd dibber
make
\end{verbatim}
That's it. If there are problems with missing/different compiler
version, take a look at Makefile.inc file. Dibbler was compiled using
gcc 2.95, 3.0, 3.2 and 3.3 versions. Lexer files were generated using
flex 2.5.31. Parser file were created using bison++ 1.21.9. Everything
was developed under Debian GNU/Linux systems.

\subsection{WindowsXP compilation}
Download dibbler-0.2.0-src.tar.gz and extract it. In port-winxp there
will be project files (one for server and one for client) for MS
Visual C++ 2003. Open one of them and click Build command. That should
do the trick.

\subsubsection{Flex/bison under windows}

Lexer and Parser files (ClntLexer.*, ClntParser.*, SrvLexer.* and
SrvParser.*) are generated by author and placed in CVS and
distributed. There is no need to generate them. If you want to do
this, there is an flex binary included in port-winxp. Take note that
several modifications are required:

\begin{itemize}
\item To generate ClntParser.cpp and ClntLexer.cpp files, you can use
parser.bat. After generation, in file ClntLexer.cpp replace: ,,class istream;''
with: ,,\#include <iostream>'' and ,,using namespace std;'' lines.
\item flex binary included is slightly modified. It generates
,,\#include "FlexLexer.h"'' instead of ,,\#include <FlexLexer.h>''. You should
add .\ to include path if you have problem with missing FlexLexer.h.
Also note that FlexLexer.h is modified (std:: added in several places,
<fstream.h> is replaced with <fstream> etc.
\item In file ClntParser.cpp, substitute line (around 1860): ,,	*++yyvsp = yylval;''
with: ,,*++yyvsp = ::yylval;''. This trick is supposed to fix numerous
parser problems.
\end{itemize}

Keep in mind that author is in no way a flex/bison guru and found this method
in a painful trial-and-error way. 
