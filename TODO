
$Id: TODO,v 1.31 2006-08-21 22:53:34 thomson Exp $

  Internal/code TODO
 --------------------
- ALL: Migrate SmartPtr -> SPtr, TIPv6Addr -> TAddr
- ALL: Make TAddrAddr a derived class from TAddr
- TEST: Implement test environment [Megatask]
- DOC: Describe strict-rfc-no-routing on the client side
- CLNT: Remember last assigned address.
- SRV: Add cache. SrvAddrMgr - cachedLst. 
- SRV: Add to SrvParser options: cache-size
- SRV: Store cache on disk. Read cache during startup.
- DOC: Add "Static reservation" section to User's Guide (describe
  white-list and cache-function

- CLNT/BUG: when FQDN is assigned, client performs update first, then verifies tentative status.
       It should be done in reverse order.
- SRV: Perform DNS Update delete, when RELEASE is sent (SrvMsgReply.cpp:387)
- CLNT: Perform DNS Update delete, when RELEASE is sent (ClntMsgRelease.cpp:102)
- CLNT/BUG: option fqdn - does not work, option fqdn some.name.com must be used in client.conf file
- CLNT/BUG: domain format in /etc/resolv.conf must be fixed
- SRV: When client does not send RELEASE (crash, went out of range), server does not perform FQDN delete.
- When server shutdowns, it does not perform FQDN delete.
- DOC: Describe dumping XML files, option files
- Statistics: TransMgr->dump() should be implemented.
- IfaceMgr.cpp:232 (remove #ifndef WIN32)

- CLNT: Clnt requests for Address and options (receives both and lifetime option). It should send renew only if T1<lifetime
  and renew and inf-request if T1>lifetime.

- 20. RFC3315: If the relay agent has not been explicitly configured,
  it MUST use the All_DHCP_Servers multicast address as the default.

- setting up a domain: echo homenetwork > /etc/dnsdomainname
- Flex (gentoo: emerge /usr/portage/sys-devel/flex/flex-2.5.31-r1.ebuild)

- check server's behavior: there isn't any addrs left, and srv receives SOLICIT.
  Does PREFERENCE have normal value (e.g. not faulty 255, check
   tex/test09/10th packet)

- When client receives NO-ADDR AVAILABLE, it simultaneusly: starts SOLICIT transaction, sends REQUEST to 
  next server on backup list.

- test11: reply contains empty IA with 2 STATUS CODE options:
  - unspecfail (1) + description "no such IA"
  - ok (!!!) [This entry is so old and lots of the code has
    been rewritten since. Is it still valid bug?]


  DONE/Not validated
 --------------------
- CLNT: Add address with /64 prefix, add option to ClntParser strict-rfc-no-routing
  to disable this

  DONE
 ------

  Rewrite
 ---------
1. client's answers are generated by answer(...) method, whereas server's answers 
   are generated in the relayMsg method by differents constructors of the same message.
   Shouldn't it be better to make it homogeneous ? I don't have any preference :)
2. ClntIfaceMgr: remove ugly sleep(3) instruction.
3. Server ADVERTISE evaluations. There should be some kind of ranking
   system, which checks that IAs were provided as well as TAs. And
   options too.
4. Suboptions parsing. It's done in lots of places, but should be done
   in one. e.g. TSrvOptIA_NA, TClntOptIA_NA, TClntOptTA, TSrvOptTA constructors.
5. {Server|Client}Identifier is added in numerous places in SrvOpt*.cpp. It should be added
   in TSrvMsg::appendRequestedOptions()
6. How many addrs can be assigned to the client? Implement counter in the
   TAddrClient class.

  BUGS
 ------
 See http://klub.com.pl/bugzilla/

  INFO
 ------
- Linux kernel does not support finite lifetimes: kernel sources: 
   addrconf.c:  inet6_rtm_newaddr() :1579, functions ipv6_add_addr and in ndisc.c:ndisc_router_discovery

